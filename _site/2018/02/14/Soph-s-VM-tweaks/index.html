<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    
    
    <title>Soph&#39;s VM tweaks</title>
    <meta name="description" content="What’s this (hi, this is a test) This is a scratch pad for me to use when I set up new virtual machines. I’m sharing it in case anyone else is interested. fish is by far my favorite shell Install it and configure it following this tutorial omf is a handy package manager for fish. You can install themes with it and my fav is probably sushi. If you’re using anaconda, you’ll have to remember to use activate instead of source activate details. tmux I love tmux! I p much always install it first thing. To make it more useful, I add options by creating the following file at ~/.tmux.conf. set-option -g mouse on set-option -g default-command /usr/bin/fish other tools install dtrx for common sense file extraction sudo apt install dtrx glances gpustat Access Jupyter from your server I typically set up a jupyter server mostly according to Chris Albon’s instructions here. Start Jupyter on restart Previously, my workflow was something like this: go to console in browser and start ec2, go to terminal and mosh into ec2, start jupyter notebook, go back to browser and use jupyter. That’s an annoying amount of steps. I like to simplify this so that on every device restart, my machine automagically starts a jupyter notebook server and glances (which I use to monitor the machine’s resource usage). Here’s the solution I found, which is a modification of this. Modify your /etc/rc.local to include the following above the exit 0 line: export PATH=&quot;$PATH:/home/ubuntu/miniconda3/bin&quot; nohup jupyter notebook --notebook-dir=/home/ubuntu/ &amp;amp; nohup glances -w &amp;amp; exit 0">
    

    <!-- Configure mathjax according to https://docs.mathjax.org/en/latest/configuration.html#using-plain-javascript -->
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [
                    ['$', '$'],
                    ["\\(", "\\)"]
                ],
                processEscapes: true
            }
        };
    </script>
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML">
    </script>


    <link rel="stylesheet" href="/assets/soph.css">
    <link rel="stylesheet" href="/assets/main.css">
    <link rel="canonical" href="http://localhost:4000/2018/02/14/Soph-s-VM-tweaks/">
    
    
    <link rel="alternate" type="application/rss+xml" title="soph" href="http://localhost:4000/feed.xml">

    

    
    <meta property="og:type" content="article" />
    <meta property="fb:admins" content="123">
    <meta property="og:title" content="Soph&#39;s VM tweaks">
    <meta property="og:site_name" content="soph">
    <meta property="og:url" content="http://localhost:4000/2018/02/14/Soph-s-VM-tweaks/">
    <meta property="og:description" content="What’s this (hi, this is a test) This is a scratch pad for me to use when I set up new virtual machines. I’m sharing it in case anyone else is interested. fish is by far my favorite shell Install it and configure it following this tutorial omf is a handy package manager for fish. You can install themes with it and my fav is probably sushi. If you’re using anaconda, you’ll have to remember to use activate instead of source activate details. tmux I love tmux! I p much always install it first thing. To make it more useful, I add options by creating the following file at ~/.tmux.conf. set-option -g mouse on set-option -g default-command /usr/bin/fish other tools install dtrx for common sense file extraction sudo apt install dtrx glances gpustat Access Jupyter from your server I typically set up a jupyter server mostly according to Chris Albon’s instructions here. Start Jupyter on restart Previously, my workflow was something like this: go to console in browser and start ec2, go to terminal and mosh into ec2, start jupyter notebook, go back to browser and use jupyter. That’s an annoying amount of steps. I like to simplify this so that on every device restart, my machine automagically starts a jupyter notebook server and glances (which I use to monitor the machine’s resource usage). Here’s the solution I found, which is a modification of this. Modify your /etc/rc.local to include the following above the exit 0 line: export PATH=&quot;$PATH:/home/ubuntu/miniconda3/bin&quot; nohup jupyter notebook --notebook-dir=/home/ubuntu/ &amp;amp; nohup glances -w &amp;amp; exit 0">
    
    <meta property="article:author" content="https://www.facebook.com/defsophiaray">
    
    <meta property="og:image" content="http://soph.info/images/fb_teach.png">
    
    
    <meta name="twitter:card" content="summary_large_image">
    
    <meta name="twitter:site" content="defsophiaray">
    <meta name="twitter:title" content="Soph&#39;s VM tweaks">
    <meta name="twitter:description" content="What’s this (hi, this is a test) This is a scratch pad for me to use when I set up new virtual machines. I’m sharing it in case anyone else is interested. fish is by far my favorite shell Install i...">
    
    <meta name="twitter:creator" content="defsophiaray">
    <meta name="twitter:site" content="defsophiaray">
    
    
    <meta name="twitter:image" content="http://soph.info/images/fb_teach.png">
    

    <script type="text/javascript">
  WebFontConfig = {
    google: { families: [ 'Bitter:400,700,400italic:latin' ] }
  };
  (function(d) {
    var wf = d.createElement('script'), s = d.scripts[0];
    wf.src = 'https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js';
    wf.async = true;
    s.parentNode.insertBefore(wf, s);
  })(document);
</script>

    
  <!-- Google Analytics -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-103309791-1', 'auto');
    ga('send', 'pageview');

  </script>


</head>

  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">soph</a>

    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/">About</a>
      
        
        <a class="page-link" href="/archives/">Archives</a>
      
    </nav>

  </div>

</header>


    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    
      <h1 class="post-title" itemprop="name headline">Soph&#39;s VM tweaks</h1>
    
    <p class="post-meta"><time datetime="2018-02-14T11:11:48+00:00" itemprop="datePublished">Feb 14, 2018</time></p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <h1>What’s this</h1>

<p>(hi, this is a test)</p>

<p>This is a scratch pad for me to use when I set up new virtual machines. I’m sharing it in case anyone else is interested.</p>

<h1>fish is by far my favorite shell</h1>

<p>Install it and configure it following <a href="https://geowarin.github.io/the-missing-fish-shell-tutorial.html">this tutorial</a></p>

<p><code class="highlighter-rouge">omf</code> is a handy package manager for fish. You can install <a href="https://github.com/oh-my-fish/oh-my-fish/blob/master/docs/Themes.md#sushi">themes</a> with it and my fav is probably <code class="highlighter-rouge">sushi</code>.</p>

<p>If you’re using anaconda, you’ll have to remember to use <code class="highlighter-rouge">activate</code> instead of <code class="highlighter-rouge">source activate</code> <a href="https://github.com/conda/conda/issues/2611#issuecomment-230894534">details</a>.</p>

<h1>tmux</h1>

<p>I love tmux! I p much always install it first thing. To make it more useful, I add options by creating the following file at <code class="highlighter-rouge">~/.tmux.conf</code>.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>set-option -g mouse on
set-option -g default-command /usr/bin/fish
</code></pre></div></div>

<h1>other tools</h1>

<ul>
  <li>install <a href="https://github.com/moonpyk/dtrx">dtrx</a> for common sense file extraction
    <ul>
      <li><code class="highlighter-rouge">sudo apt install dtrx</code></li>
    </ul>
  </li>
  <li><a href="http://glances.readthedocs.io/en/stable/index.html">glances</a></li>
  <li><a href="https://github.com/wookayin/gpustat">gpustat</a></li>
</ul>

<h1>Access Jupyter from your server</h1>

<p>I typically set up a jupyter server mostly according to Chris Albon’s instructions <a href="https://chrisalbon.com/software_engineering/cloud_computing/run_project_jupyter_on_amazon_ec2/">here</a>.</p>

<h1>Start Jupyter on restart</h1>

<p>Previously, my workflow was something like this: go to console in browser and start ec2, go to terminal and mosh into ec2, start jupyter notebook, go back to
browser and use jupyter. That’s an annoying amount of steps. I like to simplify this so that on every device restart, my machine automagically starts a jupyter notebook server and glances (which I use to monitor the machine’s resource usage).</p>

<p>Here’s the solution I found, which is a modification of <a href="http://rodriguezandres.github.io/2017/01/18/jupyter-aws/">this</a>. Modify your <code class="highlighter-rouge">/etc/rc.local</code> to include the following above the <code class="highlighter-rouge">exit 0</code> line:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">"</span><span class="nv">$PATH</span><span class="s2">:/home/ubuntu/miniconda3/bin"</span>
nohup jupyter notebook <span class="nt">--notebook-dir</span><span class="o">=</span>/home/ubuntu/ &amp;
nohup glances <span class="nt">-w</span> &amp;

<span class="nb">exit </span>0
</code></pre></div></div>

  </div>

  

</article>

      </div>
    </main>

    <footer class="site-footer">

  <div class="wrapper">

    <p>
      

&copy; Sophia Ray Searcy - Powered by <a href="https://jekyllrb.com">Jekyll</a> &amp; <a href="https://github.com/yous/whiteglass">whiteglass</a> - Subscribe via <a href="http://localhost:4000/feed.xml">RSS</a>

    </p>

  </div>

</footer>


  </body>

</html>
